<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <h:head>
      	<title>Cambio de clave</title>
      </h:head>
      <h:body>
      
      <h:form>
	 
	      <p:breadCrumb>
             
             <p:menuitem value="" url="menuAdministrador.xhtml" />
             
             <p:menuitem value="Auditoría" url="listaAuditoria.xhtml" />
             <p:menuitem value="Bloqueo de usuarios" url="bloqueoDeUsuarios.xhtml" />
             <p:menuitem value="Mostrar usuarios" url="listarAdministradores.xhtml" />
             <p:menuitem value="Registrar nuevo administrador" url="registroAdministrador.xhtml" />
             
         </p:breadCrumb>
                  </h:form>
      
      		<h:form>
                    
                    <p:messages id="mensaje" severity="info, fatal, warn" showSummary="True" showDetail="True" />
      		
                    
                    
                    <p:panel id="panel" header="Cambio de clave">
      			    
      			<h:panelGrid columns="3">
                            
                            <p:outputLabel value="Usuario:"/>    
                            <p:outputLabel value="#{cambioClaveController.usuario.nombre}"/>
                            <p:outputLabel value="#{cambioClaveController.usuario.correo}"/>
                        
                            
      		        <p:outputLabel for="txtClave" value="Clave Actual" />
                        <p:password  id="txtClave" required="true" value="#{cambioClaveController.claveantigua}"
	                requiredMessage="Digite su clave" >
	                <p:ajax update="txtClaveMsg" event="keyup"/>
                      </p:password>
	              <p:message id="txtClaveMsg" for="txtClave"/>
                      
                         <p:outputLabel for="txtClave1" value="Clave Nueva" />
                         <p:password  id="txtClave1" required="true" value="#{cambioClaveController.clavenueva1}"
                                     requiredMessage="Digite su clave" 
                        feedback="true" validatorMessage="Tiene que tener mínimo 8 caracteres"
                        weakLabel="Débil" strongLabel="Fuerte" goodLabel="Bueno">
                             <f:validateRegex pattern="([\w\.-]*[a-zA-Z0-9_]{8})"/>
	                <p:ajax update="txtClaveMsg1" event="keyup"/>
                      </p:password>
	              <p:message id="txtClaveMsg1" for="txtClave1"/>
                      
                        <p:outputLabel for="txtClave2" value="Repetir Clave Nueva" />
                        <p:password  id="txtClave2" required="true" value="#{cambioClaveController.clavenueva}"
	                requiredMessage="Digite su clave" validatorMessage="Tiene que tener mínimo 8 caracteres"
                        feedback="true" promptLabel="Ingrese una clave"
                        weakLabel="Débil" strongLabel="Fuerte" goodLabel="Bueno">
                            <f:validateRegex pattern="([\w\.-]*[a-zA-Z0-9_]{8})"/>
                            <p:ajax update="txtClaveMsg2" event="keyup"/>
                      </p:password>
	              <p:message id="txtClaveMsg2" for="txtClave2"/>
      				
      				
                                <h:column/>
      				<p:commandButton icon="ui-icon-key" value="Confirmar cambios" 
                                                 update="mensaje, panel" actionListener="#{cambioClaveController.cambiarClave()}"></p:commandButton>
      			      			
      			</h:panelGrid>
      			<p:separator/>
      			
      		</p:panel>
      		</h:form>
      
      </h:body>
    
</html>
